---

copyright:
  years: 2023, 2023
lastupdated: "2023-08-16"

keywords: 

subcollection: confidential-computing

---

{{site.data.keyword.attribute-definition-list}}

# Concepts in Hyper Protect Platform
{: #secure-execution}

Understand the common concetps in the Hyper Protect platform.

TO-DO: Need a diagram or something to explain those key concepts and their relationships.


## Secure Execution
{: #secure-execution}

Understand the Secure Execution for Linux in the Hyper Protect platform.

The Secure Execution for Linux is available as part of the following hardwares:
   * IBM z15 and z16
   * IBM LinuxONE III and LinuxONE 4

Secure Execution for Linux is built to apply Zero Trust policies. Encryption combined with architectural, development and manufactural processes can establish technical assurance. Regulation and Audition require proof that the assumed environment and workload is present as well as appropriate personalisation of instances has happened. A common way to provide such proof are attestation methods or through an attestation record. 

To achieve this, the zSystem firmware contains a so-called Ultravisor, a trusted firmware component, which enforces memory protection and offers the owner of a given KVM guest to securely pass secret information to the Ultravisor by using the public host key.

![Secure Exuection for Linux](../images/lxse_uv.jpg){: caption="Figure 2. IBM Secure Execution for Linux" caption-side="bottom"}}


To process the secret information, the Ultravisor uses the matching private host key. The private host key is specific to an IBM z or LinuxONE server and is hardware protected.

![Securing the workload](../images/lxse_flowkeys_otherway.jpg){: caption="Figure 3. Securing the workload" caption-side="bottom"}}



## Contract
{: #contract}


The contract in the Hyper Protect platform ensures your workload confidentialality and integrity, and it has different meanings in terms of confidential VMs and orchestrated confidential containers running in the Secure Execution context . 

|| Contract || For confidential VMs || For orchestrated confidential containers ||
|-----|-----|-----|
| Description|  A definition file in the YAML format defines what gets run inside the Secure Execution environment.  |   A definition file in the YAML format defines what is allowed to be run inside the Secure Exeuction peer pod and what commands can cross the boundary.|

For similarities:

* Both contracts have encrypted `env` and `workload` sections to prevent the contents of those sections from being read by unauthorised personas
* Both contracts are signed over those sections to prevent unauthorised personas modifying them.
* For both contracts, the `env` and `workload` can be encrypted and the signature generated by using the hpcr terraform provider.
* Both contracts have some shared fields, for example the section that contains the image repositories and image pull credentials is shared in the HPCR and IKSwHP contracts

For differences:

* The HPCR contract contains a recipe like a Docker compose or Podman play file that tells the HPCR VSI what gets run inside SE. The IKSwHP contract does not define what gets run but defines what is allowed to be run through restrictions that include the list of allowed Kata container runtime endpoints and the rego policy based restrictions on allowed endpoints.
* What gets run inside the IKSwHP SE peer pod VSIs is determined by the Kubernetes controlling resource (e.g., a deployment or daemonset, more rarely an single pod) that is bound to the contract. The controlling resource defines the containers that actually run in the pod (but if the contract disallows those containers, the container will not be permitted to run)

**To-do: might need a diagram to illustrate each scenario**


## Attestation
{: #attestation}

Attestation is a process that starts by default at virtual instance creation, ensures that the virtual server instance image is indeed built by IBM, and that it was not modified. This process also provides information and allows validation of any data that is provided to the instance at the time of deployment.

TO-DO: Need explanation on the concept and why it matters.



